<nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
    <div class="position-sticky pt-3">
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link <%= path === '/dashboard' ? 'active' : '' %>" href="/dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    Dashboard
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link <%= path === '/employees' ? 'active' : '' %>" href="/employees">
                    <i class="fas fa-users"></i>
                    Employees
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link <%= path === '/departments' ? 'active' : '' %>" href="/departments">
                    <i class="fas fa-building"></i>
                    Departments
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link <%= path === '/attendance' ? 'active' : '' %>" href="/attendance">
                    <i class="fas fa-calendar-check"></i>
                    Attendance
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link <%= path === '/salary' ? 'active' : '' %>" href="/salary">
                    <i class="fas fa-money-bill-wave"></i>
                    Salary
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link <%= path === '/reports' ? 'active' : '' %>" href="/reports">
                    <i class="fas fa-chart-bar"></i>
                    Reports
                </a>
            </li>
        </ul>

        <% if (user.role === 'admin') { %>
            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                <span>Administration</span>
            </h6>
            <ul class="nav flex-column mb-2">
                <li class="nav-item">
                    <a class="nav-link <%= path === '/users' ? 'active' : '' %>" href="/users">
                        <i class="fas fa-user-cog"></i>
                        User Management
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link <%= path === '/settings' ? 'active' : '' %>" href="/settings">
                        <i class="fas fa-cog"></i>
                        Settings
                    </a>
                </li>
            </ul>
        <% } %>

        <div class="mt-4 px-3">
            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="darkModeToggle">
                <label class="form-check-label" for="darkModeToggle">Dark Mode</label>
            </div>
        </div>
    </div>
</nav>

<script>
    // Dark mode toggle
    const darkModeToggle = document.getElementById('darkModeToggle');
    const body = document.body;

    // Check for saved theme preference
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark') {
        body.setAttribute('data-theme', 'dark');
        darkModeToggle.checked = true;
    }

    // Toggle dark mode
    darkModeToggle.addEventListener('change', () => {
        if (darkModeToggle.checked) {
            body.setAttribute('data-theme', 'dark');
            localStorage.setItem('theme', 'dark');
        } else {
            body.removeAttribute('data-theme');
            localStorage.setItem('theme', 'light');
        }
    });
</script> 